
{% extends 'website/base.html' %}

{% load static %}

{% block head %}
<title> Vaktliste </title>
<link rel="stylesheet" href="{% static "watchlist/css/watchlist.css" %}">
<script src="{% static "watchlist/js/calendarManager.js" %}" defer></script>
{% endblock %}

{% block content %}
<div class="section hs-green white-text">
    <div class="container">
        <div class="row">
            <div class="col s12">
                <h4>Vaktliste</h4>
                <p>Vaktlisten gir en oversikt over når verkstedet er åpent og bemannet, og hva slags kompetanse de vakthavende har.</p>
            </div>
        </div>
    </div>
</div>

<div class="section">
    <div class="container">
        <table class="striped watchlist">
            <thead>
                <tr class="watchlist-row watchlist-header-row">
                    <th>Tid</th>
                    {% for day in columns %}
                    <th>{{ day }}</th>
                    {% endfor %}
                </tr>
            </thead>

            <tbody>
                {% for time, shifts in rows.items %}
                <tr class="watchlist-row">
                    <td class="watchlist-cell watchlist-time">{{ time|linebreaksbr }}</td>
                    {% for shift in shifts %}
                    <td class="watchlist-cell watchlist-slot">
                        <div class="watchlist-tag white-text {% if shift.watchers.count == 0 %}watchlist-closed{% else %}watchlist-open{% endif %}">
                            {% if shift.watchers.count == 0 %}
                            <i class="material-icons">block</i>
                            {% elif shift.watchers.count == 1 %}
                            <i class="material-icons">person</i>
                            {% elif shift.watchers.count == 2 %}
                            <i class="material-icons">group</i>
                            {% else %}
                            <i class="material-icons">group_add</i>
                            {% endif %}
                        </div>
                    </td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}