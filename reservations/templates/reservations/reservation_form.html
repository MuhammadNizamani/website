{% extends 'website/base.html' %}
{% load week %}
{% block content %}

    <div class="section block">
        <div class="row">
            <div class="col s8 offset-s2">
                <div class="card">
                    <div class="card-content">

                        <form method="post">
                            {% csrf_token %}
                            {{ form.as_p }}
                            <button id="submit" type="submit" class="btn waves-effect waves-light" name="action">
                                Submit
                                <i class="material-icons send">send</i>
                            </button>
                            {% if queue.pk %}
                                <a href="{% url 'reservations:reservation_delete' pk=queue.pk %}" class="btn waves-effect waves-dark red">Delete
                                    <i class="material-icons">delete</i></a>
                            {% endif %}
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
            // Custom initialization for pickers
            // Make pickers use pythons date and time formats

            document.addEventListener("DOMContentLoaded", function () {

                let dp = document.querySelectorAll('.datepicker');
                let tp = document.querySelectorAll('.timepicker');

                M.Datepicker.init(dp, {
                    format: "dd.mm.yyyy",
                    disableWeekends: true
                });

                M.Timepicker.init(tp, {
                    twelveHour: false
                });

            });
    </script>

{% endblock content %}
